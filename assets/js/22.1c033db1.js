(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{424:function(t,s,a){"use strict";a.r(s);var n=a(56),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",{attrs:{align:"center"}},[a("img",{attrs:{src:"/assets/logo.png",width:"320px"}})]),t._v(" "),a("p",[t._v("该文档为 "),a("code",[t._v("v3")]),t._v(" 版本的文档，如果您需要使用 "),a("code",[t._v("v2.x")]),t._v(" 版本的，请您传送至 "),a("a",{attrs:{href:"https://github.com/qingwuit/qwshop/tags",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("当前版本：\n"),a("a",{attrs:{href:"https://github.com/qingwuit/qwshop"}},[a("img",{staticStyle:{"vertical-align":"middle",height:"18px"},attrs:{alt:"GitHub last release",src:"https://img.shields.io/packagist/v/qingwuit/qwshop"}})])]),t._v(" "),a("h2",{attrs:{id:"概叙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概叙"}},[t._v("#")]),t._v(" 概叙")]),t._v(" "),a("h3",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("个人之前做了很多次商城，每次都是从头开始开发比较耗时，后来熟悉流程后自己写了一套方便产品经理的需求快速上线。")]),t._v(" "),a("p",[t._v("欢迎 Star，欢迎 PR！")]),t._v(" "),a("img",{attrs:{src:"https://gitee.com/qingwuitcn/qwshop/badge/fork.svg?theme=dark",alt:"fork"}}),t._v(" "),a("img",{attrs:{src:"https://gitee.com/qingwuitcn/qwshop/badge/star.svg?theme=dark",alt:"star"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/github/stars/qingwuit/qwshop",alt:"star"}}),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/qingwuit/qwshop",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/qingwuitcn/qwshop/stargazers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("交流QQ群：1062159788")]),t._v(" -  "),a("code",[t._v("私人QQ：364825702")]),t._v(" 请备注 "),a("code",[t._v("青梧商城")])]),t._v(" "),a("h3",{attrs:{id:"运行环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行环境"}},[t._v("#")]),t._v(" 运行环境")]),t._v(" "),a("p",[t._v("PHP : "),a("code",[t._v("7.4 | ^8.0")])]),t._v(" "),a("p",[t._v("MySql >= "),a("code",[t._v("5.6")])]),t._v(" "),a("p",[t._v("Apache || "),a("code",[t._v("Nginx = *")])]),t._v(" "),a("p",[t._v("node >= "),a("code",[t._v("10.*")])]),t._v(" "),a("p",[t._v("composer >= "),a("code",[t._v("1.*")])]),t._v(" "),a("p",[t._v("【重点】请二开前先前往对应官网熟悉Laravel8 和 Vue3 相关文档")]),t._v(" "),a("h2",{attrs:{id:"快速安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速安装"}},[t._v("#")]),t._v(" 快速安装")]),t._v(" "),a("h3",{attrs:{id:"composer-安装-推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#composer-安装-推荐"}},[t._v("#")]),t._v(" Composer 安装 [ 推荐 ]")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" create-project qingwuit/qwshop shop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 手动建好数据库 - 项目不会自己建数据库的 只会根据你填写的数据库账户密码去插入数据")]),t._v("\nphp artisan qwshop:install \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# [ 如果执行失败 看下文档【PHP配置】是否正确 ]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面两条需要安装Node 环境请npm -v 查看是否有安装 或自行搜索nodejs安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run prod\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## linux 得给下权限 window 不用执行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" ./storage/\n")])])]),a("h3",{attrs:{id:"docker-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装"}},[t._v("#")]),t._v(" Docker 安装")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/qingwuit/qwshop.git  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# https://gitee.com/qingwuitcn/qwshop.git")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" qwshop/dockerfiles "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入目录")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" up -d  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里默认你已经安装【docker】")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it dockerfiles_qwshop_1 /bin/sh "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入工作台")]),t._v("\n\n./dockerfiles/install.sh "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装项目 如因权限无法执行 运行: sh ./dockerfiles/install.sh")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## [ 下面的问题 我未尝试成功 ] 这个问题等我查到能用的再更新")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 运行在docker接口请求慢卡，是微软wsl2子系统的问题，磁盘IO太慢，导致的响应时间超长。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 解决方法：在docker设置页面，General->把除第一个复选框全部取消掉。特别是其中一个use the wsl2 based engine,就是我们访问慢的罪魁祸首。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 参考文献: https://blog.dugwang.com/?p=1346")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"手动安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手动安装"}},[t._v("#")]),t._v(" 手动安装")]),t._v(" "),a("p",[t._v("1、下载对应版本 "),a("a",{attrs:{href:"https://github.com/qingwuit/qwshop",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub传送门"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/qingwuitcn/qwshop",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee传送门"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("或者")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果有安装Git bash 可以Clone")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/qingwuit/qwshop.git\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://gitee.com/qingwuitcn/qwshop.git\n")])])]),a("p",[t._v("2、复制根目录 "),a("code",[t._v(".env.example")]),t._v(" 为 "),a("code",[t._v(".env")])]),t._v(" "),a("p",[t._v("3、修改 "),a("code",[t._v(".env")]),t._v(" 数据库")]),t._v(" "),a("p",[t._v("4、下载PHP Composer扩展")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("p",[t._v("5、在根目录执行以下命令")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("php artisan key:generate "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 密钥key")]),t._v("\nphp artisan passport:keys --ansi "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 密钥key")]),t._v("\nphp artisan storage:link "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 软链接")]),t._v("\n")])])]),a("p",[t._v("6、导入Sql文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("php artisan migrate "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据迁移")]),t._v("\nphp artisan qwshop:mysql "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 导入初始数据")]),t._v("\n")])])]),a("p",[t._v("7、下载前端扩展 [ 这里预知你已经安装了Node套件 ]")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 也可以使用淘宝镜像")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm install --registry=https://registry.npm.taobao.org --force")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 前端代码打包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run prod\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## linux 得给下权限 window 不用执行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" ./storage/\n")])])]),a("h2",{attrs:{id:"nginx-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-配置"}},[t._v("#")]),t._v(" Nginx 配置")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 参考代码")]),t._v("\nlisten  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nserver_name localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nroot  /var/www/laravel-app/public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解析目录到项目Public")]),t._v("\nindex  index.html index.htm index.php"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#伪静态代码 [ 这里不少人忘记导致接口404情况 ]")]),t._v("\nlocation / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    try_files "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v("/ /index.php?"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"php-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#php-配置"}},[t._v("#")]),t._v(" PHP 配置")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# php.ini 文件中解除限制函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shell_exec'")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'exec'")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'symlink'")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proc_open'")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'putenv'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# php.ini 一个个搜索看有没有删除 如果没删除的删除下 [ 如果还是无法执行看报错再删除下 ]")]),t._v("\n")])])]),a("h2",{attrs:{id:"商城登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#商城登录"}},[t._v("#")]),t._v(" 商城登录")]),t._v(" "),a("ul",[a("li",[t._v("【总后台】\n"),a("code",[t._v("/Admin/login")]),t._v(" - "),a("code",[t._v("admin 123456")])]),t._v(" "),a("li",[t._v("【商家后台】\n"),a("code",[t._v("/Seller/login")]),t._v(" - "),a("code",[t._v("18888888888 123456")])]),t._v(" "),a("li",[t._v("【用户后台】\n"),a("code",[t._v("/login")]),t._v(" - "),a("code",[t._v("18888888888 123456")])])]),t._v(" "),a("p",[t._v("[重要] 记得路径大小写一定要一样 如："),a("code",[t._v("/Admin/login")]),t._v(" 不能是 "),a("code",[t._v("/admin/login")]),t._v(" 否则出现无法登录登陆后又跳转回来的问题")]),t._v(" "),a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("需要自行配置PHP环境、和node 环境(安装扩展尽量使用国内镜像)")])]),t._v(" "),a("li",[a("p",[t._v("npm run 打包过程失败，请查看"),a("code",[t._v("node-sass")]),t._v(" or "),a("code",[t._v("corejs")]),t._v(" 是否有下载成功，尝试重新下载或者去淘宝镜像下载 确定node版本是否过低。")])]),t._v(" "),a("li",[a("p",[t._v("【安装后无法打开】，是否忘记配置伪静态ngnix linux 查看 chmod -R 777 storage 是否给权限")])]),t._v(" "),a("li",[a("p",[t._v("【安装后无法打开】，是否将目录解析到public，nginx下是否配置"),a("code",[t._v("Laravel伪静态")])])]),t._v(" "),a("li",[a("p",[t._v("【安装后无法打开】，是否php artisan qwshop:install 时填写的域名和你目前访问的域名一致")])]),t._v(" "),a("li",[a("p",[t._v("【无法登录】，是否使用 "),a("code",[t._v("php artisan serve")]),t._v(" 访问 是无法访问的 会和passport冲突 最好重新搭个服务端环境 如Nginx 或者 集成环境")])]),t._v(" "),a("li",[a("p",[t._v("接口502单独打开接口又能打开，查看nginx日志看是否header传输过大，关闭"),a("code",[t._v("env")]),t._v("的"),a("code",[t._v("DEBUG")]),t._v("，如果还不行，请修改nginx配置文件")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);